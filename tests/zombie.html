<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì¢€ë¹„ ìƒì¡´ë ¥ í…ŒìŠ¤íŠ¸ - SimTest</title>
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" as="style" crossorigin
        href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" />
    <style>
        .screen {
            display: none;
            animation: fadeIn 0.5s ease-out;
        }

        .screen.active {
            display: block;
        }

        .progress-bar {
            width: 100%;
            height: 6px;
            background-color: #E5E7EB;
            border-radius: 10px;
            margin-bottom: 2rem;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: var(--gradient-main);
            width: 0%;
            transition: width 0.3s ease;
        }

        .question-text {
            font-size: 1.4rem;
            font-weight: 700;
            margin-bottom: 2rem;
            text-align: center;
        }

        .answer-btn {
            width: 100%;
            padding: 1.2rem;
            margin-bottom: 1rem;
            background: white;
            border: 1px solid var(--border-color);
            border-radius: var(--radius-md);
            font-size: 1rem;
            font-weight: 500;
            color: var(--text-main);
            transition: all 0.2s;
            text-align: left;
        }

        .answer-btn:hover {
            border-color: var(--primary-color);
            background-color: #F5F3FF;
            transform: translateY(-2px);
        }

        .loading-spinner {
            width: 50px;
            height: 50px;
            border: 5px solid #f3f3f3;
            border-top: 5px solid var(--primary-color);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 1rem;
        }

        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }
    </style>
</head>

<body>
    <div class="container">
        <header class="header" style="padding-bottom: 0;">
            <a href="../index.html" class="logo" style="font-size: 1.5rem;">SimTest</a>
        </header>
        <section id="start-screen" class="screen active">
            <div class="test-thumbnail"
                style="height: 250px; background: linear-gradient(to top, #50cc7f 0%, #f5d100 100%); margin: 2rem 0; border-radius: var(--radius-md); display: flex; align-items: center; justify-content: center;">
                <span style="font-size: 3rem;">ğŸ§Ÿ</span>
            </div>
            <h1 class="test-title" style="font-size: 2rem; text-align: center; margin-bottom: 1rem;">ì¢€ë¹„ ìƒì¡´ë ¥ í…ŒìŠ¤íŠ¸</h1>
            <p class="test-desc" style="text-align: center; margin-bottom: 2rem;">ì¢€ë¹„ ë°”ì´ëŸ¬ìŠ¤ê°€ í¼ì¡Œë‹¤!<br>ë‹¹ì‹ ì€ ëê¹Œì§€ ì‚´ì•„ë‚¨ì„ ìˆ˜ ìˆì„ê¹Œìš”?
            </p>
            <button class="btn-primary" onclick="startTest()">í…ŒìŠ¤íŠ¸ ì‹œì‘í•˜ê¸°</button>
        </section>
        <section id="question-screen" class="screen">
            <div class="progress-bar">
                <div class="progress-fill" id="progress"></div>
            </div>
            <h2 id="question-text" class="question-text">ì§ˆë¬¸ ë‚´ìš©</h2>
            <div id="answer-container"></div>
        </section>
        <section id="loading-screen" class="screen" style="text-align: center; padding-top: 5rem;">
            <div class="loading-spinner"></div>
            <p>ìƒì¡´ í™•ë¥  ê³„ì‚° ì¤‘...</p>
        </section>
        <section id="result-screen" class="screen">
            <h2 style="text-align: center; color: var(--primary-color); margin-bottom: 0.5rem;">ë‹¹ì‹ ì˜ ìƒì¡´ ë“±ê¸‰ì€</h2>
            <h1 id="result-title" style="font-size: 2rem; text-align: center; margin-bottom: 1.5rem;">ê²°ê³¼</h1>
            <div id="result-content"
                style="background: #fff; padding: 1.5rem; border-radius: var(--radius-md); border: 1px solid var(--border-color); text-align: center;">
            </div>
            <button class="btn-primary" onclick="shareResult()" style="margin-top: 2rem;">ê²°ê³¼ ê³µìœ í•˜ê¸°</button>
            <button class="btn-primary" onclick="location.reload()"
                style="background: #fff; color: var(--text-main); border: 1px solid var(--border-color); margin-top: 1rem;">ë‹¤ì‹œ
                í•˜ê¸°</button>
            <button class="btn-primary" onclick="location.href='../index.html'"
                style="background: var(--text-main); margin-top: 1rem;">ë‹¤ë¥¸ í…ŒìŠ¤íŠ¸ í•˜ëŸ¬ê°€ê¸°</button>
        </section>
    </div>
    <script src="../js/main.js"></script>
    <script>
        const testConfig = {
            title: "ì¢€ë¹„ ìƒì¡´ë ¥ í…ŒìŠ¤íŠ¸",
            questions: [
                { text: "ë‰´ìŠ¤ì—ì„œ ì¢€ë¹„ ì¶œëª° ì†ë³´ê°€ ë–´ë‹¤!", answers: [{ text: "ë§ˆíŠ¸ë¡œ ê°€ì„œ ì‹ëŸ‰ì„ ì±™ê¸´ë‹¤", type: "SURVIVOR" }, { text: "ì§‘ ë¬¸ì„ ì ê·¸ê³  ìˆ¨ëŠ”ë‹¤", type: "SCARED" }] },
                { text: "ì¢€ë¹„ê°€ ì«“ì•„ì˜¨ë‹¤! ë¬´ê¸°ëŠ”?", answers: [{ text: "ì•¼êµ¬ë°©ë§ì´ (ê·¼ì ‘ì „)", type: "FIGHTER" }, { text: "ë¹ ë¥¸ ë°œ (ë„ë§)", type: "RUNNER" }] },
                { text: "ë‚¯ì„  ìƒì¡´ìë¥¼ ë§Œë‚¬ë‹¤.", answers: [{ text: "í•¨ê»˜ ë‹¤ë‹ˆìê³  ì œì•ˆí•œë‹¤", type: "LEADER" }, { text: "ì˜ì‹¬ìŠ¤ëŸ¬ìš°ë‹ˆ í”¼í•œë‹¤", type: "SOLO" }] },
                { text: "ì¹œêµ¬ê°€ ì¢€ë¹„ì—ê²Œ ë¬¼ë ¸ë‹¤...", answers: [{ text: "ë¯¸ì•ˆí•´... ì²˜ë¦¬í•œë‹¤", type: "COLD" }, { text: "ì¹˜ë£Œë²•ì´ ìˆì„ ê±°ì•¼! ë°ë¦¬ê³  ê°„ë‹¤", type: "EMOTION" }] },
                { text: "ë§ˆì§€ë§‰ í—¬ê¸°ê°€ ë„ì°©í–ˆë‹¤! ìë¦¬ê°€ í•˜ë‚˜ë¿ì´ë¼ë©´?", answers: [{ text: "ë‚´ê°€ íƒ„ë‹¤", type: "SURVIVOR" }, { text: "ì–‘ë³´í•œë‹¤", type: "HERO" }] }
            ],
            results: {
                "SURVIVOR": { title: "ìƒì¡´ í™•ë¥  99% 'ìµœí›„ì˜ 1ì¸' ğŸ†", desc: "ë‹¹ì‹ ì€ ëƒ‰ì² í•œ íŒë‹¨ë ¥ê³¼ ìƒì¡´ ë³¸ëŠ¥ì„ ê°€ì¡ŒìŠµë‹ˆë‹¤.<br>ì–´ë–¤ ìƒí™©ì—ì„œë„ ì‚´ì•„ë‚¨ì„ ìˆ˜ ìˆëŠ” ëŠ¥ë ¥ì´ ìˆêµ°ìš”." },
                "HERO": { title: "ìƒì¡´ í™•ë¥  50% 'í¬ìƒì ì¸ ì˜ì›…' ğŸ¦¸", desc: "ë‹¹ì‹ ì€ ë‚¨ì„ ë•ë‹¤ê°€ ìœ„í—˜ì— ì²˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br>í•˜ì§€ë§Œ ë‹¹ì‹  ë•ë¶„ì— ë§ì€ ì‚¬ëŒì´ ì‚´ ìˆ˜ ìˆì„ ê±°ì˜ˆìš”." },
                "SCARED": { title: "ìƒì¡´ í™•ë¥  10% 'ì´ˆë°˜ í¬ìƒì–‘' ğŸ’€", desc: "ê²ì´ ë§ê³  ìš°ì™•ì¢Œì™•í•˜ë‹¤ê°€ ë‹¹í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br>ë¯¿ì„ ìˆ˜ ìˆëŠ” ë™ë£Œë¥¼ ì°¾ëŠ” ê²ƒì´ ì¤‘ìš”í•´ìš”!" },
                "FIGHTER": { title: "ìƒì¡´ í™•ë¥  80% 'ì¢€ë¹„ ì‚¬ëƒ¥ê¾¼' ğŸ”«", desc: "ë‹¹ì‹ ì€ ì¢€ë¹„ì™€ ë§ì„œ ì‹¸ìš°ëŠ” ì „íˆ¬ë ¥ì´ ë›°ì–´ë‚©ë‹ˆë‹¤.<br>í•˜ì§€ë§Œ ë„ˆë¬´ ë¬´ëª¨í•˜ê²Œ ë¤ë¹„ì§€ëŠ” ë§ˆì„¸ìš”." }
            }
        };
        let currentQuestionIndex = 0;
        let scores = { "SURVIVOR": 0, "HERO": 0, "SCARED": 0, "FIGHTER": 0 };
        function startTest() { document.getElementById('start-screen').classList.remove('active'); document.getElementById('question-screen').classList.add('active'); showQuestion(); }
        function showQuestion() {
            const question = testConfig.questions[currentQuestionIndex];
            document.getElementById('question-text').innerText = question.text;
            document.getElementById('progress').style.width = `${((currentQuestionIndex) / testConfig.questions.length) * 100}%`;
            const container = document.getElementById('answer-container');
            container.innerHTML = '';
            question.answers.forEach(answer => {
                const btn = document.createElement('button');
                btn.className = 'answer-btn';
                btn.innerText = answer.text;
                btn.onclick = () => selectAnswer(answer.type);
                container.appendChild(btn);
            });
        }
        function selectAnswer(type) {
            // Simplified logic mapping for this specific test structure
            // Just counting types directly for simplicity in this MVP
            if (type === "LEADER" || type === "COLD") scores["SURVIVOR"]++;
            if (type === "SOLO" || type === "RUNNER") scores["SCARED"]++; // Just mapping for example
            if (type === "EMOTION") scores["HERO"]++;

            // Direct mapping for explicit types
            if (scores[type] !== undefined) scores[type]++;

            currentQuestionIndex++;
            if (currentQuestionIndex < testConfig.questions.length) showQuestion(); else showLoading();
        }
        function showLoading() {
            document.getElementById('question-screen').classList.remove('active');
            document.getElementById('loading-screen').classList.add('active');
            setTimeout(() => showResult(), 1500);
        }
        function showResult() {
            document.getElementById('loading-screen').classList.remove('active');
            document.getElementById('result-screen').classList.add('active');
            let maxScore = -1; let resultType = "SCARED"; // Default
            for (const [type, score] of Object.entries(scores)) { if (score > maxScore) { maxScore = score; resultType = type; } }
            const result = testConfig.results[resultType];
            document.getElementById('result-title').innerText = result.title;
            document.getElementById('result-content').innerHTML = `<p>${result.desc}</p>`;
        }
        function shareResult() { shareContent(testConfig.title, `ë‚˜ì˜ ìƒì¡´ í™•ë¥ ì€: ${document.getElementById('result-title').innerText}`, window.location.href); }
    </script>
</body>

</html>